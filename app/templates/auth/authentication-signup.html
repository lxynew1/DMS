<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <title>Fobia - Bootstrap 4 Web Application UI Kit</title>
    <!--favicon-->
    <link rel="icon" href={{ url_for('static',filename = 'assets/images/favicon.ico') }} type="image/x-icon">
    <!-- Bootstrap core CSS-->
    <link href={{ url_for('static',filename = 'assets/css/bootstrap.min.css') }} rel="stylesheet"/>
    <!-- animate CSS-->
    <link href={{ url_for('static',filename = 'assets/css/animate.css') }} rel="stylesheet" type="text/css"/>
    <!-- Icons CSS-->
    <link href={{ url_for('static',filename = 'assets/css/icons.css') }} rel="stylesheet" type="text/css"/>
    <!-- Custom Style-->
    <link href={{ url_for('static',filename = 'assets/css/app-style.css') }} rel="stylesheet"/>

</head>

<body>

<!-- start loader -->
<div id="pageloader-overlay" class="visible incoming">
    <div class="loader-wrapper-outer">
        <div class="loader-wrapper-inner">
            <div class="loader"></div>
        </div>
    </div>
</div>
<!-- end loader -->

<!-- Start wrapper-->
<div id="wrapper">

    <div class="card-authentication2 mx-auto my-3">
        <div class="card-group">
            <div class="card mb-0">
                <div class="bg-signup2"></div>
                <div class="card-img-overlay rounded-left my-5">
                    <h2 class="text-white">Lorem</h2>
                    <h1 class="text-white">Ipsum Dolor</h1>
                    <p class="card-text text-white pt-3">There are many variations of passages of Lorem Ipsum available,
                        but the
                        majority have suffered alteration in some form, by injected humour, or randomised words which
                        don't look even
                        slightly believable.</p>
                </div>
            </div>

            <div class="card mb-0">
                <div class="card-body">
                    <div class="card-content p-3">
                        <div class="text-center">
                            <img src={{ url_for('static',filename = 'assets/images/logo-icon.png') }} alt="logo icon">
                        </div>
                        <div class="card-title text-uppercase text-center py-3">Sign Up</div>
                        <form method="post">
                            <div class="form-group">
                                <div class="position-relative has-icon-left">
                                    <label for="exampleInputName" class="sr-only">昵称</label>
                                    {{ form.username(class='form-control',id='exampleInputName',placeholder='昵称',onblur = 'username_check()') }}<span
                                        id="UserNameError"></span>
                                    <div class="form-control-position">
                                        <i class="icon-user"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="position-relative has-icon-left">
                                    <label for="exampleInputEmailId" class="sr-only">Email ID</label>
                                    {#											<input type="text" id="exampleInputEmailId" class="form-control" placeholder="Email ID">#}
                                    {{ form.email(class='form-control',id='exampleInputEmailId',placeholder='邮箱',onblur = 'email_check()') }}<span
                                        id="EmailError"></span>
                                    <div class="form-control-position">
                                        <i class="icon-envelope-open"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="position-relative has-icon-left">
                                    <label for="exampleInputPassword" class="sr-only">Password</label>
                                    {#											<input type="text" id="exampleInputPassword" class="form-control" placeholder="Password">#}
                                    {{ form.password(class='form-control pwd1',id='exampleInputPassword',placeholder='密码',onblur='MMonblus()') }}
                                    <span id="MMerror"></span>
                                    <div class="form-control-position">
                                        <i class="icon-lock"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="position-relative has-icon-left">
                                    <label for="exampleInputRetryPassword" class="sr-only">Retry Password</label>
                                    {#											<input type="password" id="exampleInputRetryPassword" class="form-control" placeholder="Retry Password">#}
                                    {{ form.password_repeat(class='form-control pwd2',id='exampleInputRetryPassword',placeholder='请重复密码',onkeyup="validate()") }}<span
                                        id="ensure"></span>
                                    <div class="form-control-position">
                                        <i class="icon-lock"></i>
                                    </div>
                                </div>
                            </div>
                            {#									<div class="form-group">#}
                            {#										<div class="icheck-material-primary">#}
                            {#											<input type="checkbox" id="user-checkbox" checked="" />#}
                            {#											<label for="user-checkbox">我接受条款和条件</label>#}
                            {#										</div>#}
                            {#									</div>#}
                            {#									<button type="button" class="btn btn-primary btn-block waves-effect waves-light">Sign Up</button>#}
                            {{ form.submit(class='btn btn-primary btn-block waves-effect waves-light') }}
                            {#									<div class="text-center pt-3">#}
                            {#										<p>or Sign up with</p>#}
                            {#										<div class="form-row mt-4">#}
                            {#											<div class="form-group mb-0 col-6">#}
                            {#												<button type="button" class="btn bg-facebook text-white btn-block"><i class="fa fa-facebook-square"></i>#}
                            {#													Facebook</button>#}
                            {#											</div>#}
                            {#											<div class="form-group mb-0 col-6 text-right">#}
                            {#												<button type="button" class="btn bg-twitter text-white btn-block"><i class="fa fa-twitter-square"></i>#}
                            {#													Twitter</button>#}
                            {#											</div>#}
                            {#										</div>#}
                            {##}
                            {#										<hr>#}
                            {##}
                            {#										<p class="text-dark">Already have an account? <a href="authentication-signin2.html"> Sign In here</a></p>#}
                            {#									</div>#}
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--Start Back To Top Button-->
    <a href="javaScript:void();" class="back-to-top"><i class="fa fa-angle-double-up"></i> </a>
    <!--End Back To Top Button-->


</div>
<!--wrapper-->

<!-- Bootstrap core JavaScript-->
<script src={{ url_for('static',filename = 'assets/js/jquery.min.js') }}></script>
<script src={{ url_for('static',filename = 'assets/js/popper.min.js') }}></script>
<script src={{ url_for('static',filename = 'assets/js/bootstrap.min.js') }}></script>

<!-- sidebar-menu js -->
<script src={{ url_for('static',filename = 'assets/js/sidebar-menu.js') }}></script>

<!-- Custom scripts -->
<script src={{ url_for('static',filename = 'assets/js/app-script.js') }}></script>
<script>
    function validate() {
        var pwd1 = $(".pwd1").val()
        var pwd2 = $(".pwd2").val()

        if (pwd1 != pwd2) {
            $("#ensure").html("两次输入密码不一致！")
            $("#ensure").css("color", "red");
        } else {
            $("#ensure").html("两次输入密码一致！")
            $("#ensure").css("color", "green");
        }
    }

    function MMonblus() {
        var password = $(".pwd1").val();

        if (password.length == 0) {
            $("#MMerror").html("请输入密码")
            $("#MMerror").css("color", "red");
        } else if (password.length < 6) {
            $("#MMerror").html("格式错误,密码长度至少为6位")
            $("#MMerror").css("color", "red");
        } else {
            $("#MMerror").html("")
            $("#MMerror").css("color", "red");
        }
    }

    function email_check() {
        if ($('#exampleInputEmailId').val().length == 0) {
            $("#UserNameError").html('')
            $("#UserNameError").css("color", "red")
        } else {
            $.ajax({
                type: "GET",
                url: "{{ url_for('auth.email_check') }}",
                data: {email: $('#exampleInputEmailId').val()},
                dataType: "json",
                success: function (data) {
                    $("#EmailError").html(data.return_info)
                    $("#EmailError").css("color", "red");
                }
            })
        }
    }

    function username_check() {
        if ($('#exampleInputName').val().length == 0) {
            $("#UserNameError").html('')
            $("#UserNameError").css("color", "red")
        } else {
            $.ajax({
                type: "GET",
                url: "{{ url_for('auth.username_check') }}",
                data: {username: $('#exampleInputName').val()},
                dataType: "json",
                success: function (data) {
                    $("#UserNameError").html(data.return_info)
                    $("#UserNameError").css("color", "red");
                }
            })
        }
    }

</script>
</body>
</html>
